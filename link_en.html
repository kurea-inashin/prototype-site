<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>RIa Official Site - Omikuji</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Let's check your fortune for today! A probabilistic omikuji.">
<meta name="keywords" content="omikuji, fortune, horoscope, probability, great luck, bad luck">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/slide.css">
<script type="text/javascript" src="js/openclose.js"></script>
<script type="text/javascript" src="js/fixmenu_pagetop.js"></script>

<style type="text/css">
/* Omikuji button style */
#drawOmikuji {
    display: block; /* Make the button a block element to allow centering */
    margin: 30px auto; /* Top/bottom margin, center horizontally */
    padding: 15px 40px; /* Inner padding */
    font-size: 1.5em; /* Large font size */
    font-weight: bold; /* Bold text */
    color: #fff; /* White text color */
    background-color: #e07b39; /* Button background color (warm tone) */
    border: none; /* Remove border */
    border-radius: 8px; /* Rounded corners */
    cursor: pointer; /* Change cursor to pointer on hover */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Add shadow for 3D effect */
    transition: all 0.3s ease; /* Animation for hover */
    letter-spacing: 0.1em; /* Slight letter spacing */
    text-decoration: none; /* Remove underline if any */
}

#drawOmikuji:hover {
    background-color: #c96a30; /* Darker background on hover */
    transform: translateY(-3px); /* Animate to lift slightly on hover */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Emphasize shadow */
}

#drawOmikuji:active {
    transform: translateY(0); /* Push down on click */
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

/* Omikuji result display area style */
#omikujiResult {
    background-color: #fcf8e3; /* Background color (light cream) */
    border: 3px solid #e07b39; /* Border line */
    border-radius: 10px; /* Rounded corners */
    padding: 40px 20px; /* Inner padding */
    margin-top: 40px; /* Top margin */
    font-size: 2.5em; /* Even larger font size */
    font-weight: bold; /* Bold text */
    color: #333; /* Text color */
    text-align: center; /* Center align text */
    min-height: 150px; /* Set minimum height */
    display: flex; /* Use Flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); /* Shadow */
    line-height: 1.5; /* Adjust line height */
    opacity: 0; /* Initially transparent */
    transform: translateY(20px); /* Initially slightly down */
    transition: opacity 0.5s ease, transform 0.5s ease; /* Animation */
}

/* Style for when the omikuji result is displayed */
#omikujiResult.active {
    opacity: 1; /* Make it opaque when displayed */
    transform: translateY(0); /* Return to original position on display */
}

/* Color coding for each omikuji fortune */
.omikuji-daikichi { color: #d9534f; } /* Great Luck - red */
.omikuji-chukichi { color: #5cb85c; } /* Middle Luck - green */
.omikuji-shokichi { color: #f0ad4e; } /* Small Luck - orange */
.omikuji-kichi { color: #337ab7; } /* Luck - blue */
.omikuji-suekichi { color: #5bc0de; } /* Future Luck - light blue */
.omikuji-kyo { color: #777; } /* Bad Luck - gray */
.omikuji-daikyo { color: #444; background-color: #fdd; } /* Great Bad Luck - dark gray, light red background */
.kumakichi { color: #8B4513; } /* Bear Luck - brown */

/* Horoscope section style */
#horoscopeSection {
    margin-top: 50px;
    padding: 30px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
}

#horoscopeSection h2 {
    text-align: center;
    color: #e07b39;
    margin-bottom: 30px;
    font-size: 2em;
}

.horoscope-list {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.horoscope-item {
    background-color: #fff;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
    transition: transform 0.2s ease;
}

.horoscope-item:hover {
    transform: translateY(-5px);
}

.horoscope-item .rank {
    font-size: 2.2em;
    font-weight: bold;
    margin-bottom: 10px;
}

/* Ranking colors (adjust as needed) */
.rank-1 { color: #d9534f; } /* 1st */
.rank-2 { color: #f0ad4e; } /* 2nd */
.rank-3 { color: #5cb85c; } /* 3rd */
.rank-4 { color: #337ab7; } /* 4th */
.rank-5 { color: #5bc0de; } /* 5th */
.rank-6 { color: #777; } /* 6th */
.rank-7 { color: #d9534f; } /* 7th */
.rank-8 { color: #f0ad4e; } /* 8th */
.rank-9 { color: #5cb85c; } /* 9th */
.rank-10 { color: #337ab7; } /* 10th */
.rank-11 { color: #5bc0de; } /* 11th */
.rank-12 { color: #777; } /* 12th */


.horoscope-item .sign-name {
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
    margin-bottom: 5px;
}

.horoscope-item .comment {
    font-size: 0.9em;
    color: #666;
    line-height: 1.4;
}

.horoscope-item img {
    max-width: 80px;
    height: auto;
    margin-bottom: 10px;
}
</style>
</head>

<body>

<header>
<div class="inner">
<h1 id="logo"><a href="index.html"><img src="images/logo.png" alt="SAMPLE COMPANY"></a></h1>
<div id="contact">
<p class="tel">Welcome To My Site !!<span>Operating hours: 24 hours | Downtime: Site maintenance days</span></p>
</div>
<div id="language-switcher">
¬† <a href="index.html" hreflang="ja">Êó•Êú¨Ë™û</a> |
¬† <a href="index_en.html" hreflang="en">English</a> |
¬† <a href="index_fr.html" hreflang="fr">Fran√ßais</a>
</div>
</div>
</header>
<nav id="menubar">
<ul class="inner">
<li><a href="index_en.html">Home<span>HOME</span></a></li>
<li><a href="company_en.html">About Website<span>ABOUT WEBSITE</span></a></li>
<li><a href="service_en.html">Service<span>SERVICE</span></a></li>
<li><a href="recruit_en.html">Developer Information<span>DEVELOPER INFORMATION</span></a></li>
<li class="current"><a href="link_en.html">Fortune Slip<span>OMIKUJI</span></a></li>
<li><a href="contact_en.html">Contact<span>CONTACT</span></a></li>
</ul>
</nav>
<nav id="menubar-s">
<ul>
<li><a href="index_en.html">Home<span>HOME</span></a></li>
<li ><a href="company.html">About Website<span>ABOUT WEBSITE</span></a></li>
<li><a href="service_en.html">Service<span>SERVICE</span></a></li>
<li><a href="recruit_en.html">Developer Information<span>DEVELOPER INFORMATION</span></a></li>
<li class="current"><a href="link_en.html">Fortune Slip<span>OMIKUJI</span></a></li>
<li><a href="contact_en.html">Contact<span>CONTACT</span></a></li>
</ul>
</nav>

<div id="contents" class="inner">
<div id="contents-in">

<div id="main">

<section>
<h2>Check Your Fortune Today</h2>
<p>Draw an omikuji to see your fortune for the day!</p>
<button id="drawOmikuji">Draw Omikuji</button>
<div id="omikujiResult">
    </div>
</section>

---

<section id="horoscopeSection">
    <h2>Daily Horoscope (Under Development - Prototype)</h2>
    <p>Check your star sign's fortune for today!</p>
        <ul id="horoscopeList" class="horoscope-list">
            </ul>
</section>

</div>
<div id="sub">

<nav>
<h2>SERVICE</h2>
<ul class="submenu">
<li><a href="#">Number Guessing Game I</a></li>
<li><a href="#">Number Guessing Game II</a></li>
<li><a href="#">Number Guessing Game III</a></li>
<li><a href="#">Blackjack</a></li>
<li><a href="#">Minesweeper</a></li>
</ul>
</nav>

<nav>
<ul class="submenu">
<li><a href="#">Creator's Prototype</a></li>
<li><a href="#">Creator's Old Site</a></li>
<li><a href="#">COMING SOON</a></li>
<li><a href="#">COMING SOON</a></li>
<li><a href="#">COMING SOON</a></li>
</ul>
</nav>

<section>

<h2>Recommended Sites</h2>

<div class="list">
<a href="service2.html">
<figure><img src="images/sample1.jpg" alt="photo description"></figure>
<h4>Fire Fox<span class="newicon">Recommended</span></h4>
<p>Creator's recommended site!</p>
</a>
</div>

<div class="list">
<a href="service2.html">
<figure><img src="images/sample2.jpg" alt="photo description"></figure>
<h4>BING<span class="newicon">Recommended</span></h4>
<p>Image search is convenient!!</p>
</a>
</div>



</section>

<div class="box1">
<h2>Under Construction</h2>
<p>Content submissions wanted<br>
<br>
<br>
</p>
</div>

</div>
</div>
<div id="side">

<section>

<nav>
<h2>Event Schedule</h2>
<ul class="submenu">
<li><a href="#">Under Construction</a></li>
<li><a href="#">Under Construction</a></li>
</ul>
</nav>


</section>


<p>
<a href="recruit.html"><img src="images/banner1.jpg" alt="About the logo" class="pc"></a>
<a href="recruit.html"><img src="images/banner1_sh.jpg" alt="About the logo" class="sh"></a>
</p>
<p>Made to reflect the creator's hobbies. The theme color is a green-blue, inspired by the Saiky≈ç Line.<br>
<a href="company.html#banner">We are not currently creating a logo.</a></p>

</div>
</div>
<footer>

<div id="footermenu" class="inner">

</div>
<div id="copyright">
<small>Copyright&copy; <a href="index.html">Ria373</a> All Rights Reserved.</small>
<span class="pr"><a href="http://template-party.com/" target="_blank">„ÄäWeb Design:Template-Party„Äã</a></span>
</div>

</footer>

<p class="nav-fix-pos-pagetop"><a href="#">‚Üë</a></p>

<script type="text/javascript">
if (OCwindowWidth() <= 800) {
    open_close("newinfo_hdr", "newinfo");
}
</script>

<div id="menubar_hdr" class="close"></div>
<script type="text/javascript">
if (OCwindowWidth() <= 800) {
    open_close("menubar_hdr", "menubar-s");
}
</script>

<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    const drawButton = document.getElementById('drawOmikuji');
    const resultDiv = document.getElementById('omikujiResult');
    const horoscopeList = document.getElementById('horoscopeList');

    // Initially hide the result display area
    resultDiv.style.display = 'none';

    // Define fortunes, probabilities, and messages
    const fortunes = [
        { name: "Great Luck", class: "omikuji-daikichi", probability: 10, messages: [
            "üå∏ Today is your day! Whatever you do will be a success!",
            "‚ú® Wonderful fortune is coming your way. Be proactive!",
            "üçÄ All your wishes will come true today. Step forward with confidence!"
        ]},
        { name: "Middle Luck", class: "omikuji-chukichi", probability: 25, messages: [
            "‚òò Something good is likely to happen. Seize every opportunity!",
            "üòä It looks like it will be a smooth day. Don't forget to smile!",
            "üåà You might experience an unexpected, pleasant surprise."
        ]},
        { name: "Small Luck", "class": "omikuji-shokichi", probability: 30, messages: [
            "üçÉ Small fortunes await you. Find joy in your everyday life.",
            "üëç A calm and stable day. Be grateful for what you have.",
            "üå± A little effort could lead to great results."
        ]},
        { name: "Luck", "class": "omikuji-kichi", probability: 20, messages: [
            "üå∏ Today will be a peaceful day. Proceed at your own pace without rushing.",
            "üåü Your fortune is calm. Be mindful of harmony with those around you.",
            "üíñ A grateful heart will attract good fortune."
        ]},
        { name: "Future Luck", "class": "omikuji-suekichi", probability: 9, messages: [
            "üå± A day that is neither good nor bad. Proceed steadily without overdoing it.",
            "ü§î Cautious actions will lead to good outcomes. Don't rush.",
            "üåª You can overcome small problems with a calm approach."
        ]},
        { name: "Bad Luck", "class": "omikuji-kyo", probability: 4, messages: [
            "‚òÅ Be cautious today. Be careful of unexpected trouble.",
            "üöß A day that requires a little caution. Take it easy and be quiet.",
            "üåß You might face some difficulties, but you can overcome them. Don't give up."
        ]},
        { name: "Great Bad Luck", "class": "omikuji-daikyo", probability: 1, messages: [
            "üåß It might feel like nothing goes right today... It's best to take it easy. Don't push yourself too hard.",
            "üåë The worst fortune. Avoid important decisions and take a break today.",
            "üö® It might be a day with many challenges. Be careful not to get involved in trouble."
        ]},
        { name: "Bear Luck", "class": "kumakichi", probability: 1, messages: [
            "üêª You might feel like a bear today. Find comfort in fluffy things.",
            "üçØ Sweet treats might bring you good luck. Spend the day relaxed like a bear.",
            "üêæ Your own pace is best today! Relax and take it easy like a bear."
        ]}
    ];

    if (drawButton && resultDiv) {
        drawButton.addEventListener('click', function() {
            // Clear current fortune class and text
            resultDiv.className = '';
            resultDiv.textContent = '';
            resultDiv.style.display = 'none'; // Hide before showing new fortune

            // Select fortune based on probability
            let rand = Math.random() * 100; // Random number from 0 to 99.999...
            let cumulativeProbability = 0;
            let selectedFortune = null;

            for (let i = 0; i < fortunes.length; i++) {
                cumulativeProbability += fortunes[i].probability;
                if (rand < cumulativeProbability) {
                    selectedFortune = fortunes[i];
                    break;
                }
            }

            // Display the result
            if (selectedFortune) {
                // Select a random message from the options
                const randomMessage = selectedFortune.messages[Math.floor(Math.random() * selectedFortune.messages.length)];
                
                resultDiv.classList.add(selectedFortune.class);
                resultDiv.textContent = `${selectedFortune.name} - ${randomMessage}`;
                
                // Toggle class for fade-in animation
                resultDiv.classList.remove('active'); // Remove to reset
                resultDiv.style.display = 'flex'; // Show the element
                setTimeout(() => { // Short delay to enable transition
                    resultDiv.classList.add('active');
                }, 10); 
            }
        });
    }

    // Define horoscope data (removed 'comments' property)
    const horoscopes = [
        { sign: "‚ôà Aries", img: "images/aries.png" },
        { sign: "‚ôâ Taurus", img: "images/taurus.png" },
        { sign: "‚ôä Gemini", img: "images/gemini.png" },
        { sign: "‚ôã Cancer", img: "images/cancer.png" },
        { sign: "‚ôå Leo", img: "images/leo.png" },
        { sign: "‚ôç Virgo", img: "images/virgo.png" },
        { sign: "‚ôé Libra", img: "images/libra.png" },
        { sign: "‚ôè Scorpio", img: "images/scorpio.png" },
        { sign: "‚ôê Sagittarius", img: "images/sagittarius.png" },
        { sign: "‚ôë Capricorn", img: "images/capricorn.png" },
        { sign: "‚ôí Aquarius", img: "images/aquarius.png" },
        { sign: "‚ôì Pisces", img: "images/pisces.png" }
    ];

    // Function to generate a random horoscope comment
    function generateRandomHoroscopeComment(signName, rank) {
        const adjs = ["Your", "Today's", "A wonderful", "An unexpected", "A surprising", "The best"];
        const nouns = ["day", "fortune", "opportunity", "event", "encounter", "challenge", "break", "lesson"];
        const verbs = ["awaits", "might be", "is coming", "is in store", "is worth looking forward to", "is a great time for"];
        const advice = ["Act with confidence today.", "It's a good time to pursue new hobbies.", "Connect with friends and family.", "Trust your instincts.", "Take a moment to relax and recharge.", "Pay attention to the small details.", "You may find a hidden talent."];

        const randomAdj = adjs[Math.floor(seededRandom() * adjs.length)];
        const randomNoun = nouns[Math.floor(seededRandom() * nouns.length)];
        const randomVerb = verbs[Math.floor(seededRandom() * verbs.length)];
        const randomAdvice = advice[Math.floor(seededRandom() * advice.length)];

        let comment = `${randomAdj} ${randomNoun} ${verbs[Math.floor(seededRandom() * verbs.length)]} ${signName}. ${randomAdvice}`;
        
        // Add hints based on rank (these are still random but slightly adjusted)
        if (rank <= 3) {
            comment += " Expect some great things to happen!";
        } else if (rank >= 10) {
            comment += " It's wise to be cautious today.";
        }
        
        return comment;
    }

    // Function to generate a seed based on today's date
    function getDateSeed() {
        const today = new Date();
        // Combine year, month, and day into a single seed (e.g., 20250701)
        return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
    }

    // Pseudo-random number generator (XORShift) that uses a seed
    // This ensures the same order of random numbers is generated for the same date
    let currentSeed = getDateSeed(); // Set initial seed to today's date

    function seededRandom() {
        currentSeed ^= currentSeed << 13;
        currentSeed ^= currentSeed >> 17;
        currentSeed ^= currentSeed << 5;
        // Normalize the random number to a range of 0 to 1
        return ((currentSeed >>> 0) / 0xFFFFFFFF); // Normalize with 32-bit unsigned integer
    }

    // Function to generate and display horoscope rankings
    function generateHoroscopeRankings() {
        // Reset the random number generator with today's date seed
        currentSeed = getDateSeed(); 

        // Shuffle the rankings (using the seeded random number)
        const shuffledHoroscopes = [...horoscopes]; // Copy the original array
        for (let i = shuffledHoroscopes.length - 1; i > 0; i--) {
            const j = Math.floor(seededRandom() * (i + 1)); // Use seededRandom
            [shuffledHoroscopes[i], shuffledHoroscopes[j]] = [shuffledHoroscopes[j], shuffledHoroscopes[i]];
        }

        horoscopeList.innerHTML = ''; // Clear existing content

        shuffledHoroscopes.forEach((astro, index) => {
            const rank = index + 1;
            // Call the random message generation function
            const randomComment = generateRandomHoroscopeComment(astro.sign, rank);
            const listItem = document.createElement('li');
            listItem.classList.add('horoscope-item');
            listItem.innerHTML = `
                <div class="rank rank-${rank}">${rank}</div>
                <img src="${astro.img}" alt="${astro.sign}" onerror="this.onerror=null;this.src='images/default.png';">
                <div class="sign-name">${astro.sign}</div>
                <p class="comment">${randomComment}</p>
            `;
            horoscopeList.appendChild(listItem);
        });
    }

    // Generate horoscopes on page load
    if (horoscopeList) {
        generateHoroscopeRankings();
    }
});
</script>
</body>
</html>
